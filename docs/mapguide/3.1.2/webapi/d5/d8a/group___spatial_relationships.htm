<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MapGuide API Reference: Spatial Relationships</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../mg_open_source.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MapGuide API Reference
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.htm"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.htm"><span>Modules</span></a></li>
      <li><a href="../../annotated.htm"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d5/d8a/group___spatial_relationships.htm','../../');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Spatial Relationships</div>  </div>
<div class="ingroups"><a class="el" href="../../d3/da6/group___spatial_relationships___module.htm">Spatial Relationships</a></div></div><!--header-->
<div class="contents">
<p>The spatial relationship predicates are implemented in this API in two ways: </p>
<ul>
<li>
as methods on the <a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a> class and </li>
<li>
as an element in a spatial filter passed to either the <a class="el" href="../../d5/d10/class_mg_feature_service_acd90e83ea6f7d1c0c68b8547c7ec6286.htm#acd90e83ea6f7d1c0c68b8547c7ec6286" title="Selects features from a feature source according to the criteria set in the MgFeatureQueryOptions arg...">MgFeatureService::SelectFeatures()</a> or the <a class="el" href="../../d5/d10/class_mg_feature_service_aacdbf149e721d82862f799742feb3ed5.htm#aacdbf149e721d82862f799742feb3ed5" title="Selects groups of features from a feature source and applies filters to each of the groups according ...">MgFeatureService::SelectAggregate()</a> method. </li>
</ul>
<p><a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a> is the base class for all of the geometry classes in this API. The call pattern is "$bool = $geometry1-&gt;predicate($geometry2)". You can use the methods on this class to analyze geometries locally. </p>
<p>The <a class="el" href="../../d5/d10/class_mg_feature_service_acd90e83ea6f7d1c0c68b8547c7ec6286.htm#acd90e83ea6f7d1c0c68b8547c7ec6286" title="Selects features from a feature source according to the criteria set in the MgFeatureQueryOptions arg...">MgFeatureService::SelectFeatures()</a> and <a class="el" href="../../d5/d10/class_mg_feature_service_aacdbf149e721d82862f799742feb3ed5.htm#aacdbf149e721d82862f799742feb3ed5" title="Selects groups of features from a feature source and applies filters to each of the groups according ...">MgFeatureService::SelectAggregate()</a> methods select features from a data store somewhere in the network. The underlying implementation of this functionality is the Autodesk <a class="el" href="../../dd/de6/group___f_d_o.htm">FDO</a>. The filter elements are class name, geometry property name, a geometry argument, and a spatial relationship predicate name. The filter says "Select the geometries stored in &lt;geometry property name&gt; in &lt;class name&gt; which are related to the &lt;geometry argument&gt; by the &lt;spatial relationship predicate&gt;. That is, "&lt;geometry property&gt;.&lt;spatial relationship predicate&gt;(&lt;geometry argument&gt;)" is true. </p>
<h2>Egenhofer Spatial Relations </h2>
<p>The Oracle Spatial Users Guide and Reference (<a class="el" href="../../de/d80/group___o_s_u_g_r.htm">[OSUGR]</a>) bases its definitions of spatial operators on <a class="el" href="../../d1/d2b/group___egenhofer91.htm">[Egenhofer91]</a>. It defines the operators as follows: </p>
<table  class="RuledTable">
<tr>
<th><b>Operator</b> </th><th><b>Definition</b>  </th></tr>
<tr>
<td>disjoint </td><td>The boundaries and interiors do not intersect.  </td></tr>
<tr>
<td>touch </td><td>The boundaries intersect but the interiors do not intersect.  </td></tr>
<tr>
<td>overlapbdydisjoint </td><td>the interior of one object intersects the boundary and exterior of the other object but the two boundaries do not intersect.  </td></tr>
<tr>
<td>overlapbdyintersect </td><td>The boundaries and interiors of the two objects intersect.  </td></tr>
<tr>
<td>equal </td><td>The two objects have the same boundary and interior.  </td></tr>
<tr>
<td>contains </td><td>The interior and boundary of one object is completely contained in the interior of the other object.  </td></tr>
<tr>
<td>covers </td><td>The interior of one objects is completely contained in the interior or boundary of the other object and their boundaries intersect.  </td></tr>
<tr>
<td>inside </td><td>The opposite of contains. A inside B implies B contains A.  </td></tr>
<tr>
<td>coveredby </td><td>The opposite of covers. A converedby B implies B covers A.  </td></tr>
</table>
<h2>Base Definitions </h2>
<p>The definitions of the spatial relationship predicates are implicitly or explicitly based on the definitions of the interior, boundary, and exterior of a geometry. In section 2.1.13.1, <a class="el" href="../../d8/d89/group___o_g_c99049.htm">[OGC99-049]</a> states: </p>
<p>"The domain of geometric objects considered is those that are spatial relationships. The interior of a geometry consists of those points that are left when the boundary points are removed. The exterior of a geometry consists of points not in the interior or boundary." </p>
<p>See the description of the <a class="el" href="../../d1/d85/class_mg_geometry_a3dbb29c09b28a0dc8c21886c43bc4967.htm#a3dbb29c09b28a0dc8c21886c43bc4967">MgGeometry::Boundary Method</a> for a specification of the boundary for each geometry type. </p>
<h2>The Common Predicates </h2>
<p>Section 2.1.13 of <a class="el" href="../../d8/d89/group___o_g_c99049.htm">[OGC99-049]</a> defines 8 spatial relationship predicates: <a class="el" href="../../d1/d85/class_mg_geometry_a668d4d461cace617b23b3176bb9b2520.htm#a668d4d461cace617b23b3176bb9b2520">Contains</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a105f1afc8faa3b23531caaf360901bac.htm#a105f1afc8faa3b23531caaf360901bac">Crosses</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a6b1a741a475994b42bc66fd192071c02.htm#a6b1a741a475994b42bc66fd192071c02">Disjoint</a>, <a class="el" href="../../d1/d85/class_mg_geometry_ac460fc129843b743af02dcfe11ef2540.htm#ac460fc129843b743af02dcfe11ef2540">Equals</a>, <a class="el" href="../../d1/d85/class_mg_geometry_aeae7348606c13798af42ae3b420e841b.htm#aeae7348606c13798af42ae3b420e841b">Intersects</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a6e19abb1b3bba84c964513ca9a107be8.htm#a6e19abb1b3bba84c964513ca9a107be8">Overlaps</a>, <a class="el" href="../../d1/d85/class_mg_geometry_abc313adb8c1e28fe97d1f150a4836fd4.htm#abc313adb8c1e28fe97d1f150a4836fd4">Touches</a>, and <a class="el" href="../../d1/d85/class_mg_geometry_ae969b79037e7aef044f340ffc46c38f9.htm#ae969b79037e7aef044f340ffc46c38f9">Within</a>. Click on the predicate names to see the description of the <a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a> method, which includes the definition. </p>
<p>You can use the Disjoint, Equals, and Intersects predicates on any pair of geometries in any order and you may get a return value of true as well as false. </p>
<p>The following table identifies the cases where the Contains, Overlaps, Touches, and Crosses predicates always return false. Blank cells in the table indicate that it is possible for the predicate to return a true value. </p>
<p>In the table, <b>P</b> stands for Point, <b>MP</b> for MultiPoint, <b>L</b> for 1-dimensional geometries (LineString, CurveString, MultiLineString and MultiCurveString), and <b>A</b> for 2-dimensional geometries (Polygon, MultiPolygon, CurvePolygon, and MultiCurvePolygon). </p>
<p>Asterisks indicate cases where switching the order of the geometries produces a result of false for the Within predicate, but may produce a result of true for the Contains predicate. </p>
<p>For example, a point cannot contain a line: P.Contains(L) == false. A line, however, can contain a point. Also, a point may be within a line, but a line cannot be within a point. </p>
<table  class="RuledTable">
<tr>
<th><b>&#160;</b> </th><th><b>P/P</b> </th><th><b>MP/MP</b> </th><th><b>P/L*</b> </th><th><b>MP/L*</b> </th><th><b>P/A*</b> </th><th><b>MP/A*</b> </th><th><b>L/L</b> </th><th><b>L/A*</b> </th><th><b>A/A</b>  </th></tr>
<tr>
<td class="shaded"><b>Contains</b> </td><td></td><td></td><td>F </td><td>F </td><td>F </td><td>F </td><td></td><td>F </td><td></td></tr>
<tr>
<td class="shaded"><b>Overlaps</b> </td><td>F </td><td></td><td>F </td><td>F </td><td>F </td><td>F </td><td></td><td>F </td><td></td></tr>
<tr>
<td class="shaded"><b>Touches</b> </td><td>F </td><td>F </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr>
<td class="shaded"><b>Within</b> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr>
<td class="shaded"><b>Crosses</b> </td><td>F </td><td>F </td><td>F </td><td></td><td>F </td><td></td><td></td><td></td><td>F  </td></tr>
</table>
<h2>Predicates Specific to <a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a> </h2>
<p>These are <a class="el" href="../../d1/d85/class_mg_geometry_a3dbb29c09b28a0dc8c21886c43bc4967.htm#a3dbb29c09b28a0dc8c21886c43bc4967">Boundary</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a4d3bef4b2db61546169198f9a864bd1e.htm#a4d3bef4b2db61546169198f9a864bd1e">Buffer</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a4386f04547f28fd75cbb368f20c903ee.htm#a4386f04547f28fd75cbb368f20c903ee">ConvexHull</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a277827781a609b6016178380a59d8b60.htm#a277827781a609b6016178380a59d8b60">Distance</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a7b2458b3a20b53749628d851ed77d43a.htm#a7b2458b3a20b53749628d851ed77d43a">Intersection</a>, <a class="el" href="../../d1/d85/class_mg_geometry_a6d3dab07f0ca5b34564014506167ea18.htm#a6d3dab07f0ca5b34564014506167ea18">Symmetric Difference</a>, and <a class="el" href="../../d1/d85/class_mg_geometry_a04372805aa01118eeddaef987f39bb6a.htm#a04372805aa01118eeddaef987f39bb6a">Union</a>. Click on the predicate to see the method description, which includes a definition. </p>
<h2>Predicates Specific to <a class="el" href="../../d5/d10/class_mg_feature_service.htm" title="Provides an abstraction layer for the storage and retrieval of feature data in a technology-independe...">MgFeatureService</a> Select Methods </h2>
<p>These predicates are <a class="el" href="../../da/d14/group___covered_by.htm">Covered By</a>, <a class="el" href="../../d0/d90/group___inside.htm">Inside</a>, and <a class="el" href="../../d7/d1e/group___envelope_intersects.htm">Envelope Intersects</a>. Click on the predicate to see the definition. </p>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Comments or suggestions? Send us <a href="http://mapguide.osgeo.org/feedback">feedback</a>. | Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
