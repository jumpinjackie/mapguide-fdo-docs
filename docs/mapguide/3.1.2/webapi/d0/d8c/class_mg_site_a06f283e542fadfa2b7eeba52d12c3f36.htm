<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MapGuide API Reference: MgSite::CreateSession</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../mg_open_source.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MapGuide API Reference
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.htm"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.htm"><span>Modules</span></a></li>
      <li><a href="../../annotated.htm"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/d8c/class_mg_site.htm','../../');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="a06f283e542fadfa2b7eeba52d12c3f36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STRING <a class="el" href="../../d0/d8c/class_mg_site_a06f283e542fadfa2b7eeba52d12c3f36.htm#a06f283e542fadfa2b7eeba52d12c3f36">MgSite::CreateSession</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a <a class="el" href="../../df/d03/group__session__repository.htm">session repository </a> for the current user. </p>
<dl class="section remark"><dt>Remarks:</dt><dd>Resources placed into the session repository will exist until the session expires or the session is destroyed by using DestroySession. The session repository is tied exclusively to the user, and can be used, for example, to store temporary layers. <br/>
 You can use the session identifier to tie a web tier application session to the stored data. You can use standard web tier session mechanisms like client side cookies, hidden form fields, and additional URL parameters on dynamically generated web pages to propagate the identifier from one page to another. <br/>
 For the lifetime of the session, the session identifier can also be used to reauthenticate with the MapGuide site.</dd></dl>
<div class="DotNetSyntax">
<b>.NET Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 string <a class="el" href="../../d0/d8c/class_mg_site_a06f283e542fadfa2b7eeba52d12c3f36.htm#a06f283e542fadfa2b7eeba52d12c3f36" title="Creates a session repository  for the current user.">CreateSession()</a>; </tt>
</td>
</tr>
</table>
</div> 
 <div class="JavaSyntax">
<b>Java Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 String <a class="el" href="../../d0/d8c/class_mg_site_a06f283e542fadfa2b7eeba52d12c3f36.htm#a06f283e542fadfa2b7eeba52d12c3f36" title="Creates a session repository  for the current user.">CreateSession()</a>; </tt>
</td>
</tr>
</table>
</div> 
 <div class="PhpSyntax">
<b>PHP Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 string <a class="el" href="../../d0/d8c/class_mg_site_a06f283e542fadfa2b7eeba52d12c3f36.htm#a06f283e542fadfa2b7eeba52d12c3f36" title="Creates a session repository  for the current user.">CreateSession()</a>; </tt>
</td>
</tr>
</table>
</div> 
<dl class="section return"><dt>Returns:</dt><dd>The session identifier, for example "71b5d990-0000-1000-8000-005056c00008_eng".</dd></dl>
<div class="PhpExample">
<b>Examples (PHP)</b>
<br>
 This example shows how to create a session repository. Note how the session ID is stored back in the <a class="el" href="../../d3/dc1/class_mg_user_information.htm" title="This class manages user information.">MgUserInformation</a> object. This is necessary for GetCurrentSession to work. </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Initialize the web tier</span>
 MgInitializeWebTier(<span class="stringliteral">&#39;C:\Inetpub\wwwroot\PhpMapAgent\webconfig.ini&#39;</span>);

 <span class="comment">// Establish a connection to a site.</span>
 $userInformation = <span class="keyword">new</span> <a class="code" href="../../d3/dc1/class_mg_user_information.htm" title="This class manages user information.">MgUserInformation</a>(<span class="stringliteral">&#39;Administrator&#39;</span>, <span class="stringliteral">&#39;admin&#39;</span>);
 $siteConnection = <span class="keyword">new</span> <a class="code" href="../../df/d57/class_mg_site_connection.htm">MgSiteConnection</a>();
 $siteConnection-&gt;Open($userInformation);

 <span class="comment">// Create a session repository</span>
 $site = $siteConnection-&gt;GetSite();
 $sessionID = $site-&gt;CreateSession();
 $userInformation-&gt;SetMgSessionId($sessionID);
</pre></div><p>This example shows how to reauthenticate using the session ID: </p>
<div class="fragment"><pre class="fragment"> <span class="comment">// Assuming this page was called by</span>
 <span class="comment">// &lt;A href=&quot;page_two.php?sessionId=&lt;?= $site-&gt;GetCurrentSession(); ?&gt;&quot;&gt;Page Two&lt;/A&gt;</span>
 $userInformation = <span class="keyword">new</span> <a class="code" href="../../d3/dc1/class_mg_user_information.htm" title="This class manages user information.">MgUserInformation</a>($_GET[<span class="stringliteral">&#39;sessionId&#39;</span>]);
</pre></div><p>This example shows how to enumerate the resources in the session repository: </p>
<div class="fragment"><pre class="fragment"> $sessionName = <span class="stringliteral">&quot;Session:$sessionID//&quot;</span>;
 $resourceID = <span class="keyword">new</span> <a class="code" href="../../d6/d80/class_mg_resource_identifier.htm" title="Creates and manipulates resource identifiers.">MgResourceIdentifier</a>($sessionName);
 $byteReader = $resourceService-&gt;EnumerateResources($resourceID, -1, <span class="stringliteral">&quot;&quot;</span>);
</pre></div> </div>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">[[To</td><td>be documented]]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="../../d0/d8c/class_mg_site_a6b43d4bd05d05a78d3995a785775533a.htm#a6b43d4bd05d05a78d3995a785775533a" title="Destroys the specified session and discards any resources stored in the session repository.">DestroySession</a> </dd>
<dd>
<a class="el" href="../../d0/d8c/class_mg_site_ad1ae839b8269c8b65e3707e7eaea6fbe.htm#ad1ae839b8269c8b65e3707e7eaea6fbe" title="Gets the current session identifier.">GetCurrentSession</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d0/d8c/class_mg_site.htm">MgSite</a>      </li>

    <li class="footer">Comments or suggestions? Send us <a href="http://mapguide.osgeo.org/feedback">feedback</a>. | Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
