<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MapGuide API Reference: MgFeatureQueryOptions::SetSpatialFilter</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../mg_open_source.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MapGuide API Reference
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.htm"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.htm"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.htm"><span>Modules</span></a></li>
      <li><a href="../../annotated.htm"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d8/dcc/class_mg_feature_query_options.htm','../../');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="a3e8bc4869a6eae290c4d06ebd91823ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d8/dcc/class_mg_feature_query_options_a3e8bc4869a6eae290c4d06ebd91823ca.htm#a3e8bc4869a6eae290c4d06ebd91823ca">MgFeatureQueryOptions::SetSpatialFilter</a> </td>
          <td>(</td>
          <td class="paramtype">CREFSTRING&#160;</td>
          <td class="paramname"><em>geometryProperty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d85/class_mg_geometry.htm">MgGeometry</a> *&#160;</td>
          <td class="paramname"><em>geometry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INT32&#160;</td>
          <td class="paramname"><em>spatialOperation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Use this method to select features whose geometry property satisfies the relationship argument to the geometry argument. The effect is geometryProperty.spatialOperation(geometryArg). By default this filter is joined by the AND operator with the value of the regular filter (see <a class="el" href="../../d8/dcc/class_mg_feature_query_options_afbe0c7c10fd849f52a10eec663b0640c.htm#afbe0c7c10fd849f52a10eec663b0640c">MgFeatureQueryOptions::SetFilter Method </a>). This filter can also be joined by the OR operator (see <a class="el" href="../../d8/dcc/class_mg_feature_query_options_ae7b499de520cb40452459b379c3cd649.htm#ae7b499de520cb40452459b379c3cd649">MgFeatureQueryOptions::SetBinaryOperator Method </a>). The syntax for including a spatial expression in a regular filter is described in the topic on <a class="el" href="../../da/ddd/group___filters_and_expressions.htm">filters and expressions </a>. </p>
<dl class="section remark"><dt>Remarks:</dt><dd>The XML returned by <a class="el" href="../../d5/d10/class_mg_feature_service_aebf15d908a4e43215f530cabb445fcd2.htm#aebf15d908a4e43215f530cabb445fcd2" title="Gets the capabilities of an FDO Provider expressed in XML according to the FdoProviderCapabilities  s...">MgFeatureService::GetCapabilities</a> says whether a provider supports spatial conditions. Even if it supports spatial conditions, the provider may not support all spatial operations. See <a class="el" href="../../db/d60/group___provider_capabilities.htm">Provider Capabilities </a>. <br/>
 For example, let's call this method with the arguments "geometry" (the name of the geometry property), "<a class="el" href="../../d7/d86/class_mg_feature_spatial_operations_a2bcbe87676e79429ce63101cc8eef0fb.htm#a2bcbe87676e79429ce63101cc8eef0fb">MgFeatureSpatialOperations::Touches</a> (the spatial operation) and the geometry POLYGON((0 2, 5 2, 5 3, 0 3, 0 2)) after conversion into an <a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a> object. Let's assume that the <a class="el" href="../../d8/dcc/class_mg_feature_query_options_ae7b499de520cb40452459b379c3cd649.htm#ae7b499de520cb40452459b379c3cd649" title="Use this method to join a regular filter with a spatial filter An argument of TRUE results in an AND ...">MgFeatureQueryOptions::SetBinaryOperator</a> method is not called and the value of the <a class="el" href="../../d8/dcc/class_mg_feature_query_options_afbe0c7c10fd849f52a10eec663b0640c.htm#afbe0c7c10fd849f52a10eec663b0640c" title="Sets the filter for this select operation. The filter acts like the where clause in an SQL Select sta...">MgFeatureQueryOptions::SetFilter()</a> method argument is "featid &gt; 0". Let's also assume that the <a class="el" href="../../d8/dcc/class_mg_feature_query_options_ab364315395d07755c1d39b1270edd713.htm#ab364315395d07755c1d39b1270edd713" title="Call this method for each class property whose value you want retrieved by the MgFeatureService::Sele...">MgFeatureQueryOptions::AddFeatureProperty()</a> method has been called twice, one with an argument of "featid" and once with an argument "geometry". We further assume that the <a class="el" href="../../d5/d10/class_mg_feature_service_acd90e83ea6f7d1c0c68b8547c7ec6286.htm#acd90e83ea6f7d1c0c68b8547c7ec6286" title="Selects features from a feature source according to the criteria set in the MgFeatureQueryOptions arg...">MgFeatureService::SelectFeatures()</a> method is called with the classname argument set to "featclass". This is equivalent to doing this select statement: "SELECT a.featid,a.geometry FROM featclass a WHERE (a.featid &gt; 0) AND sdo_relate(a.geometry, MDSYS.SDO_GEOMETRY(2003, NULL, NULL, MDSYS.SDO_ELEM_INFO_ARRAY(1,1003,1), MDSYS.SDO_ORDINATE_ARRAY(0,2, 5,2, 5,3, 0,3, 0,2)), 'mask=touch) = 'TRUE';"</dd></dl>
<div class="DotNetSyntax">
<b>.NET Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 void SetSpatialFilter(string geometryProperty, MgGeometry geometry, int spatialOperation); </tt>
</td>
</tr>
</table>
</div> 
 <div class="JavaSyntax">
<b>Java Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 void SetSpatialFilter(String geometryProperty, MgGeometry geometry, int spatialOperation); </tt>
</td>
</tr>
</table>
</div> 
 <div class="PhpSyntax">
<b>PHP Syntax</b>
<table class="mdTable" cellpadding="2" border="0">
<tr>
<td>
<tt>
 void SetSpatialFilter(string geometryProperty, MgGeometry geometry, int spatialOperation); </tt>
</td>
</tr>
</table>
</div> 
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">geometryProperty</td><td>(String/string) The name of the geometry property belonging the features selected from the datastore </td></tr>
    <tr><td class="paramname">geometry</td><td>(<a class="el" href="../../d1/d85/class_mg_geometry.htm" title="MgGeometry is an abstract base class for all of the geometry types.">MgGeometry</a>) The geometry object set in relation to the geometry property. </td></tr>
    <tr><td class="paramname">spatialOperation</td><td>(int) The spatial operation to perform between the lefthand operand (the geometry property) and the righthand operand (the geometry object). The spatial operation value of is one of the <a class="el" href="../../d7/d86/class_mg_feature_spatial_operations.htm" title="Is a set of constants used to type spatial operations.">MgFeatureSpatialOperations</a> types.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns nothing.</dd></dl>
<dl class="exception"><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="../../db/d41/class_mg_invalid_argument_exception.htm" title="Thrown when a method is called with an invalid argument.">MgInvalidArgumentException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d8/dcc/class_mg_feature_query_options.htm">MgFeatureQueryOptions</a>      </li>

    <li class="footer">Comments or suggestions? Send us <a href="http://mapguide.osgeo.org/feedback">feedback</a>. | Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
